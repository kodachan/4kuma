install.packages("httr")
library(httr)
GET(url="https://pachikuri.jp/4kuma/アメンボ")
req <- GET(url="https://pachikuri.jp/4kuma/アメンボ")
content(req)
name(req)
names(req)
status_code(req)
read_csv(file="./4kuma2.csv",encodeString="UTF8")
read.csv(file="./4kuma2.csv",encodeString="UTF8")
read.csv(file="./4kuma2.csv",encodeing="UTF8")
read.csv(file="./4kuma2.csv",encodeing="utf-8")
read.csv(file="./4kuma2.csv",encode="utf-8")
data <- read.csv(file="./4kuma2.csv")
data <- read.csv(file="./4kuma2.csv")
library(readr)
data <- read_csv(file="./4kuma2.csv",encoding="utf-8")
data <- read_csv(file="./4kuma2.csv",encoding="UTF8")
data <- read_csv(file="./4kuma2.csv",locale=locale(encoding="utf-8"))
data <- read_csv(file="./4kuma2.csv",locale=locale(encoding="utf8"))
data <- read_csv(file="./4kuma2.csv")
data <- read_csv(file="./4kuma.csv")
data <- read.csv(file="./4kuma.csv")
read.csv(file="./4kuma.csv")
read.csv(file="./4kuma.csv",header=T,fileEncoding="utf-8")
read.csv(file="./4kuma.csv",header=TRUE,fileEncoding="utf-8")
read.csv(file="./4kuma.csv",header=TRUE,fileEncoding="utf-8")
read.csv(file="./4kuma.csv",header=TRUE,fileEncoding="shift_jis")
data <- read.csv(file="./4kuma.csv",header=TRUE,fileEncoding="shift_jis")
data(head)
head(data)
data <- read.csv(file="./4kuma.csv",header=TRUE,fileEncoding="shift_jis")
head(data)
for(i in 1:nrow(data)){data[i,4]<-GET(url=data[i,"URL"])["status_code"]
}
GET(url=data[i,"URL"])["status_code"]
status_code(GET(url=data[1,"URL"]))
data[1,"URL"]
data[1,"URL"][[1
]]
as.character(data[1,"URL"])
status_code(GET(url=as.character(data[1,"URL"])))
for(i in 1:nrow(data)){data[i,4]<-GET(url=as.character(data[i,"URL"]))["status_code"]}
data["TorF"]
data["TorF"!=200]
data["TorF"!=200,]
data
data["TorF"!="200"]
data["TorF"]
data["TorF"==200]
data["TorF"==200,]
data[,"TorF"==200]
data["TorF"==404]
is.numeric(data[1,4])
is.numeric(data[1,1])
is.numeric(data[1,2])
colnames(data)
data["TorF"==404,]
data["TorF"=="404"]
library(dplyr)
data %>% 
select(TorF)
data %>% filter(TorF != 200)
data %>% filter(TorF != 200)
data %>% filter(TorF != 200) %>% as.data.frame
data %>% filter(TorF != 200) %>% as.data.frame -> data_404
write_csv(data=data_404,file="./4kuma_404.csv")
write_csv2(data=data_404,file="./4kuma_404.csv")
write.csv(data=data_404,file="./4kuma_404.csv")
write_csv(data_404,file="./4kuma_404.csv",row.names=FALSE)
write_csv(x=data_404,path="./4kuma_404.csv")
q()
